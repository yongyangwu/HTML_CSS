<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Title</title>
    <script src="https://cdn.bootcss.com/dom-to-image/2.6.0/dom-to-image.js"></script>
</head>
<body>
<div id="node" style="position: relative">
    <img src="spring_bg.png" alt="" id="old" width="50">
    <span style="position: absolute;top:10px;left: 10px;display: inline-block;width: 20px">新年快乐</span>
</div>
<div id="new">

</div>




<script>
    document.getElementById('old').onload = function () {
        var node = document.getElementById('node');
        domtoimage.toPng(node)
            .then(function (dataUrl) {
                var img = new Image();
                img.src = dataUrl;
                document.getElementById('new').appendChild(img);
            })
            .catch(function (error) {
                console.error('oops, something went wrong!', error);
            });
    }

    // var canvasWidth= document.body.clientWidth;
    // var canvasHeight= document.body.clientHeight;
    // scaleBy = DPR();
    // c.width=canvasWidth*scaleBy;
    // c.height=canvasHeight*scaleBy;
    // c.style.width = canvasWidth+'px';
    // c.style.height = canvasHeight+'px';
    // ctx.scale(scaleBy, scaleBy);
    // function DPR() {
    //     if (window.devicePixelRatio && window.devicePixelRatio > 1) {
    //         return window.devicePixelRatio;
    //     }
    //     return 1;
    // }
</script>
</body>
</html>